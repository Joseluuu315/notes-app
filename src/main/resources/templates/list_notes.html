<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Lista de Notas</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Lista de Notas</h1>
    <h2>Numero de notas totales: </h2>
    <h2 th:text="${totalNotes}"></h2>
    <table border="1">
        <thead>
        <tr>
            <th>ID</th>
            <th>Categoría</th> <th>Título</th>
            <th>Contenido</th>
            <th>createdAt</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="note : ${notes}">
            <td th:text="${note.id}"></td>

            <!-- Nombre de la categoría o 'Sin Categoría' si es null -->
            <td th:text="${note.categoria != null} ? ${note.categoria.name} : 'Sin Categoría'"
                style="font-style: italic; color: #555;"></td>

            <td th:text="${note.title}"></td>
            <td th:text="${note.content}"></td>
            <td th:text="${note.createdAt}"></td>
            <td>
                <a th:href="@{/edit-note/{id}(id=${note.id})}">Editar</a> |
                <a th:href="@{/delete-note/{id}(id=${note.id})}">Borrar</a>
            </td>
        </tr>
        </tbody>
    </table>

    <p><a th:href="@{/}">Volver al menú</a></p>
</body>
</html>